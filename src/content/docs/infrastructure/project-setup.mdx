---
title: Setting Up CI/CD
description: This guide explains the philosophy behind CI/CD pipelines in 1FE.
sidebar:
  order: 2
---

import {
  FcEngineering,
  FcSettings,
  FcDeployment,
  FcWorkflow,
} from "react-icons/fc";

<div style={{ 
  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', 
  color: 'white', 
  padding: '2rem', 
  borderRadius: '12px', 
  marginBottom: '2rem',
  boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'
}}>

### <FcEngineering style={{ display: 'inline', marginRight: '0.5rem', verticalAlign: 'middle' }} /> CI/CD Pipeline Overview

**Audience:** Platform teams setting up production CI/CD infrastructure for their organization.

This guide explains the philosophy of CI/CD and our implementation approach. We show how to take local development work and reliably deploy it to production environments using GitHub Actions as an example.

</div>

<div style={{ 
  background: '#f8f9fa', 
  padding: '1.5rem', 
  borderRadius: '8px', 
  border: '1px solid #e9ecef',
  marginBottom: '2rem'
}}>

### <FcSettings style={{ display: 'inline', marginRight: '0.5rem', verticalAlign: 'middle' }} /> What You'll Need

:::caution[Prerequisites Required]
**Before starting this CI/CD setup, you MUST have these infrastructure components already configured and operational.** This guide will show you how to tie everything together, but each component needs to be set up first.
:::

While this guide shows our specific implementation, **you can adapt it to your needs** using different tools and services. Here's what you'll typically need (see [Alternative Implementations](#alternative-implementations) for other platform options):

#### Essential Components required before you can start building

â€¢ **Version Control:** To track code changes and enable collaboration (we use `GitHub`)

â€¢ **Hosting Service:** Where your 1FE application will run ([Azure Web App explained here](/infrastructure/hosting-setup/))

â€¢ **Deployment Target:** CDN or cloud storage for hosting widget bundles ([CDN Setup explained here](/infrastructure/cdn-setup/))

â€¢ **Configuration Management:** Key-value stores for live configuration settings ([Configuration Management explained here](/infrastructure/configuration-setup/))

â€¢ **CI/CD Automation platform:** CI/CD platforms for automation (we use `GitHub Actions`)

</div>


## <FcDeployment style={{ display: 'inline', marginRight: '0.5rem', verticalAlign: 'middle' }} /> Setup Instructions

:::tip[Integration Focus]
This guide assumes you've already set up the prerequisite infrastructure components listed above. **Our role here is to tie everything together** into a cohesive CI/CD pipeline that automatically deploys your widgets to the CDN, updates configuration management, and keeps your Azure Web App running smoothly.
:::

## Our Suggested Approach

:::note[Quick Start with GitHub Actions]
If you're using **GitHub Actions** as your CI/CD platform, we recommend cloning or forking our complete CI/CD repository to get started quickly:

**ðŸš€ Clone or Fork:** [1fe-ci-cd Repository](https://github.com/docusign/1fe-ci-cd)

**What you get:** Pre-built workflows, reusable actions, template files, and proven patterns for CI/CD pipelines.

**Benefits:** Faster setup, automatic updates from the central repository, consistent practices across widget projects, and access to complete examples for reference.

## 1. Repository Configuration

For a production setup, you need proper repository configuration to enable automated workflows. This involves setting up secrets, environments, and permissions for taking local development work to production.

### 1.1 Secrets Management

We use GitHub's secret management system to store sensitive credentials securely. All secrets are stored as repository secrets, never hardcoded in files.

:::danger[Required Secrets for Our CI/CD Pipeline]
You need to configure these secrets in your repository to enable the CI/CD pipeline to deploy your widget:

â€¢ **CDN Deployment Secret** (`AKAMAI_NS_SSH_PRIVATE_KEY`) - SSH private key for Akamai CDN deployment. This allows the pipeline to upload your built widget files to the content delivery network.

â€¢ **Configuration Service Secret** (`AZURE_APP_CONFIG_CONNECTION_STRING`) - Azure App Configuration connection string. This enables the pipeline to update configuration metadata when your widget is deployed.

â€¢ **Package Registry Secrets** - Authentication tokens for the internal NPM registry:
  - `NPM_TOKEN_READONLY_1FE` - For reading packages from the registry
  - `NPM_TOKEN` - For publishing your widget package to the internal package registry
:::

#### Steps to configure secrets

1. Navigate to your repository **Settings** â†’ **Secrets and variables** â†’ **Actions**

2. Click **"New repository secret"** for each required secret

3. Add the three secrets listed above with values provided by your platform team

4. Ensure repository permissions allow workflows to access secrets

:::tip
**Getting Secret Values**: Contact your platform team or refer to your organization's internal documentation for the current secret names and values. These are managed centrally and updated regularly.
:::

**Resources:**

â€¢ [GitHub Secrets Documentation](https://docs.github.com/en/actions/security-guides/encrypted-secrets)

â€¢ [GitHub Variables Documentation](https://docs.github.com/en/actions/learn-github-actions/variables)

### 1.2 Environment Configuration

Each widget repository needs environment configuration to control deployment rules and approvals. This ensures proper oversight and prevents unauthorized deployments to production.

:::note[Our Environment Setup]
We configure two environments for every widget repository:
- **Integration Environment** - For automated testing and validation of widget changes
- **Production Environment** - For live user-facing deployments with approval requirements
:::

**What it does:** Creates separate deployment environments with different approval rules. Integration environments allow automated deployments for testing, while production environments require manual approval to ensure oversight and control over production releases.

**Setting up approval groups:**

â€¢ Create a GitHub team for production approvers (e.g., "Production Approvers")

â€¢ Add the team as required reviewers in the production environment

â€¢ Team members will receive notifications when production deployments need approval

â€¢ Only team members can approve production releases

**Resources:**

â€¢ [GitHub Environments Documentation](https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment)

â€¢ [GitHub Teams Documentation](https://docs.github.com/en/organizations/organizing-members-into-teams/about-teams)

â€¢ [Required Reviewers Documentation](https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment#required-reviewers)

### 1.3 Workflow Files in Widget Repositories

Our widget repositories contain the necessary CI/CD workflow files in the `.github/workflows/` directory:

:::tip[Widget Release Workflow]
**`widget-ci.yml`** - Main CI/CD pipeline for widget releases (calls [ci-widgets.yml](https://github.com/docusign/1fe-ci-cd/blob/main/.github/workflows/ci-widgets.yml))

â€¢ Triggers on pushes to main branch and pull requests

â€¢ Builds, tests, and deploys your widget to the appropriate environment

â€¢ Handles the complete release process from code to production

**Example:** [CI/CD Release Workflow Run](https://github.com/docusign/1fe-widget-starter-kit/actions/runs/16467922994)
:::

:::caution[Widget Rollback Workflow]
**`rollback-widget.yml`** - Manual rollback workflow for reverting to previous widget versions (calls [reusable-rollback-ci.yml](https://github.com/docusign/1fe-ci-cd/blob/main/.github/workflows/reusable-rollback-ci.yml))

â€¢ Can be triggered manually when needed

â€¢ Allows you to quickly revert to a previous working version

â€¢ Useful for emergency situations or when issues are discovered in production

**Example:** [Rollback Workflow Run](https://github.com/docusign/1fe-widget-starter-kit/actions/runs/15864169532)
:::

:::important[Platform Integration]
These workflow files are pre-configured to work with the 1fe platform and call into the centralized CI/CD repository (`1fe-ci-cd`) for the actual pipeline logic.
:::

### 1.4 Template Workflow Files (1fe-ci-cd Repository)

The centralized `1fe-ci-cd` repository contains pre-built workflow files that handle different aspects of the CI/CD pipeline:

| File Name                             | Purpose                                                                   | Link                                                                                    |
| ------------------------------------- | ------------------------------------------------------------------------- | --------------------------------------------------------------------------------------- |
| `ci-widgets.yml`                      | Main orchestrator workflow - coordinates all build, test, and deploy jobs | [View source code](https://github.com/docusign/1fe-ci-cd/blob/main/.github/workflows/ci-widgets.yml) |
| `reusable-rollback-ci.yml`            | Handles rollback procedures with asset verification                       | [View source code](https://github.com/docusign/1fe-ci-cd/blob/main/.github/workflows/reusable-rollback-ci.yml) |
| `reusable-update-azure-config.yml`    | Updates configuration in external services                                | [View source code](https://github.com/docusign/1fe-ci-cd/blob/main/.github/workflows/reusable-update-azure-config.yml) |
| `reusable-widget-test-production.yml` | Production-specific test suite (lint, unit, contract, E2E)                | [View source code](https://github.com/docusign/1fe-ci-cd/blob/main/.github/workflows/reusable-widget-test-production.yml) |
| `reusable-widget-test.yml`            | Standard test suite for development and integration environments          | [View source code](https://github.com/docusign/1fe-ci-cd/blob/main/.github/workflows/reusable-widget-test.yml) |

### 1.5 Template Custom Actions (1fe-ci-cd Repository)

The centralized repository includes reusable actions for common CI/CD operations:

| Action Name            | Purpose                                                       | Link                                                                                    |
| ---------------------- | ------------------------------------------------------------- | --------------------------------------------------------------------------------------- |
| `check-cdn-asset`      | Verifies that assets are properly deployed and accessible     | [View source code](https://github.com/docusign/1fe-ci-cd/blob/main/.github/actions/check-cdn-asset/action.yml) |
| `update-azure-config`  | Handles configuration updates in external services            | [View source code](https://github.com/docusign/1fe-ci-cd/blob/main/.github/actions/update-azure-config/action.yml) |
| `widget-build`         | Builds the widget, calculates version, and archives artifacts | [View source code](https://github.com/docusign/1fe-ci-cd/blob/main/.github/actions/widget-build/action.yml) |
| `widget-test-setup`    | Sets up the testing environment and dependencies              | [View source code](https://github.com/docusign/1fe-ci-cd/blob/main/.github/actions/widget-test-setup/action.yml) |
| `widget-upload-akamai` | Handles uploading build artifacts to deployment targets       | [View source code](https://github.com/docusign/1fe-ci-cd/blob/main/.github/actions/widget-upload-akamai/action.yml) |

**Note:** Our example uses specific cloud services, but you can adapt this to your preferred deployment platform. We link to official documentation rather than implementation details that can go stale quickly.

## 3. How We Use the Workflows

Our workflow files are present in the widget repository and work as follows:

### 3.1 Automatic Releases

â€¢ **`widget-ci.yml`** runs automatically when we:

  â€¢ Push code to the main branch

  â€¢ Create or update pull requests

  â€¢ No manual intervention needed for normal releases. Deployment to integration is automated.

**Example Implementation:** [1FE Starter App CI Workflow](https://github.com/docusign/1fe-starter-app/blob/main/.github/workflows/ci.yml)

### 3.2 Manual Rollbacks

â€¢ **`rollback-widget.yml`** can be triggered manually when needed:

1. Go to the **Actions** tab in the GitHub repository

2. Select **"Rollback Widget"** from the workflow list

3. Click **"Run workflow"**

4. Enter the target version we want to rollback to

5. Select the environment (integration/production)

6. Click **"Run workflow"**

:::tip[When to Use Rollback]
We use the rollback workflow when:

â€¢ A production deployment has issues

â€¢ We need to quickly revert to a previous working version

â€¢ Emergency situations require immediate action
:::

## Our Complete Toolchain

Here's our specific implementation stack with all the tools and services we use:

<details>
<summary><strong>Our Implementation</strong></summary>

<div style={{ marginLeft: '1rem', marginTop: '0.5rem' }}>

**Core Platform:**

â€¢ **GitHub Actions** - CI/CD automation platform

â€¢ **GitHub Secrets** - Secure credential management

â€¢ **GitHub Environments** - Deployment environment management

**Deployment & CDN:**

â€¢ **Akamai CDN** - Content delivery and hosting

**Configuration Management:**

â€¢ **Azure App Configuration** - Version management and feature flags

**Development Tools:**

â€¢ **Node.js** - Build and test environment

â€¢ **Yarn** - Package management

â€¢ **TypeScript** - Development language

</div>

</details>

## Alternative Implementations

Our example uses GitHub Actions and specific cloud services, but you can implement the same philosophy with different tools:

### CI/CD Platforms

â€¢ **GitLab CI/CD:** [GitLab CI/CD Documentation](https://docs.gitlab.com/ee/ci/)

â€¢ **Bitbucket Pipelines:** [Bitbucket Pipelines Documentation](https://support.atlassian.com/bitbucket-cloud/docs/get-started-with-bitbucket-pipelines/)

â€¢ **Jenkins:** [Jenkins Documentation](https://www.jenkins.io/doc/)

### Deployment Platforms

â€¢ **AWS S3 + CloudFront:** [AWS S3 Documentation](https://docs.aws.amazon.com/s3/), [CloudFront Documentation](https://docs.aws.amazon.com/cloudfront/)

â€¢ **Google Cloud Storage + CDN:** [Google Cloud Storage Documentation](https://cloud.google.com/storage/docs)

â€¢ **Azure Blob Storage + CDN:** [Azure Storage Documentation](https://docs.microsoft.com/en-us/azure/storage/)

â€¢ **Vercel/Netlify:** [Vercel Documentation](https://vercel.com/docs), [Netlify Documentation](https://docs.netlify.com/)

### Configuration Management

â€¢ **AWS Parameter Store:** [AWS Systems Manager Parameter Store](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html)

â€¢ **HashiCorp Vault:** [Vault Documentation](https://www.vaultproject.io/docs)

â€¢ **Google Secret Manager:** [Google Secret Manager Documentation](https://cloud.google.com/secret-manager/docs)

The goal is to have a CI/CD system that moves with your code, is transparent to your team, and can be easily understood and modified as your needs change.

## Summary

Our CI/CD setup provides an automated deployment pipeline that moves with your code. Here's what we've covered:

### What We've Set Up

â€¢ **Repository Configuration** - Secrets, environments, and workflow files
â€¢ **Automated Workflows** - Release and rollback processes
â€¢ **Centralized Templates** - Reusable CI/CD components
â€¢ **Complete Toolchain** - GitHub Actions, Akamai CDN, Azure App Configuration

### Key Benefits

â€¢ **Self-contained** - All pipeline logic stays with your code
â€¢ **Automated** - No manual intervention for normal releases
â€¢ **Secure** - Proper secret management and approval workflows
â€¢ **Flexible** - Can be adapted to different tools and platforms
â€¢ **Maintainable** - Clear documentation and modular design

### Next Steps

**Complete CI/CD Setup:**
- [ ] Configure your widget repository with the required secrets and environments
- [ ] Ensure your team has proper access and approval permissions
- [ ] Test the automated release process in integration environment
- [ ] Familiarize yourself with the rollback workflow for emergency situations

**Start Building:**
1. [Configure Widget Development Environment](/getting-started/local-development/)
2. [Deploy Your First Widget](/getting-started/deploy-poc/)
3. [Explore Platform Utilities](/development/Platform%20Utilities/Overview/)

This setup ensures your CI/CD pipeline is transparent, reliable, and can grow with your team's needs.