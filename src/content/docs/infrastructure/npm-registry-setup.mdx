---
title: 'NPM Registry Setup'
description: 'Set up private NPM registry for 1fe widget packages and dependencies'
---

import {
  FcPackage,
  FcSettings,
  FcDeployment,
  FcLock,
} from "react-icons/fc";

<div style={{ 
  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', 
  color: 'white', 
  padding: '2rem', 
  borderRadius: '12px', 
  marginBottom: '2rem',
  boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'
}}>

### <FcPackage style={{ display: 'inline', marginRight: '0.5rem', verticalAlign: 'middle' }} /> NPM Registry Overview

**Audience:** Platform teams setting up production package management infrastructure for their organization.

A private NPM registry is essential for managing 1fe widget packages, shared dependencies, and ensuring security for your organization's packages. This guide covers setting up and configuring private NPM registries.

</div>

## Why You Need a Private NPM Registry

### Package Management Benefits
- **Private packages** - Keep proprietary widget code secure and internal
- **Dependency management** - Control and version shared dependencies
- **Security** - Scan packages for vulnerabilities before distribution
- **Performance** - Cache public packages for faster installs
- **Compliance** - Meet enterprise security and auditing requirements

### What Gets Stored
- **Widget packages** - Published 1fe widget bundles
- **Shared libraries** - Common utilities and components used across widgets
- **Internal tools** - Development and build tools specific to your organization
- **Cached public packages** - Mirror of public NPM packages for reliability
- **Scoped packages** - Organization-specific packages under your scope

#### Example 1fe Packages

**Core Infrastructure:**
- **`@1fe/cli`** - CLI tools for 1fe development and build infrastructure
- **`@1fe/server`** - 1fe server runtime and hosting infrastructure
- **`@1fe/shell`** - Core application shell and runtime framework

**Development Tools:**
- **`@1fe/create-1fe-app`** - ðŸš€ CLI tool to quickly scaffold a new 1fe instance
- **`@1fe/starter-app`** - Quickly bootstrap a new project with Vite Boilerplate

**Configuration & Utilities:**
- **`@1fe/sample-widget-base-config`** - A shared configuration package providing base settings and environment configurations for 1fe widgets. This package standardizes widget development configurations across the 1fe ecosystem

## NPM.org Organization Setup

If you're using the public NPM registry with scoped packages, you'll need to create an organization to manage your private packages.

**Step 1: Create the NPM Organization**

The first step is to create the organization itself. You'll need to be logged into your NPM account to do this.

<div className="prose">

1. **Access NPM Website**
   - Go to the NPM website: https://www.npmjs.com/
   - Log in to your account if you haven't already

2. **Navigate to Organizations** 
   - Click on your profile picture or username in the top right corner
   - Select **Organizations** from the dropdown menu

3. **Create Organization**
   - On the Organizations page, click the **Create an Organization** button
   - You'll be prompted to choose a plan - for private packages, you will need a paid plan

4. **Configure Organization**
   - **Organization Name:** Choose a name for your organization (e.g., `@1fe`)
   - **Email:** Enter an email address for the organization  
   - **Team Name:** Create a default team (e.g., "Developers")
   - Follow the prompts to complete the payment and creation process

</div>

**Step 2: Add Members to the Organization (Optional)**

If you're working with a team, you'll need to invite them to the organization so they can publish and install packages.

<div className="prose">

1. **Access Organization Dashboard**
   - From your organization's dashboard, navigate to the **Members** or **Teams** tab

2. **Invite Members**
   - Click the **Add Member** or **Invite Members** button
   - Enter the NPM usernames or email addresses of the people you want to invite
   - Assign them to a team and specify their role (e.g., read-only, write access)
   - They will receive an email invitation to join the organization

</div>

:::note[Automated Publishing]
Package publishing is automated through our CI/CD pipeline. See the CI/CD workflows for complete automation setup:
- [Main CI/CD workflow](https://github.com/docusign/1fe-ci-cd/blob/main/.github/workflows/ci-widgets.yml) - Main orchestrator for build, test, and deploy
- [Rollback workflow](https://github.com/docusign/1fe-ci-cd/blob/main/.github/workflows/reusable-rollback-ci.yml) - Handles rollback procedures with asset verification
:::

:::tip[Version Management]
Use `yarn changeset version` and follow the prompts to create changeset files for version management. These changeset files will be automatically processed and applied during the merge process to handle package versioning.
:::

## Security Best Practices

### Access Control
- **Scoped packages** - Use organization scopes (@yourorg/package-name)
- **Team-based permissions** - Different access levels for different teams
- **Two-factor authentication** - Require 2FA for package publishing
- **Token rotation** - Regularly rotate authentication tokens

## Best Practices

### Package Naming
- **Consistent scoping** - Always use organization scope
- **Descriptive names** - Clear purpose from package name
- **Avoid conflicts** - Check for existing package names
- **Follow conventions** - Use kebab-case for package names

### Documentation
- **README files** - Clear installation and usage instructions
- **API documentation** - Document all public interfaces
- **CHANGELOG** - Track version changes and breaking changes
- **Examples** - Provide usage examples and demos

### Quality Assurance
- **Testing** - Comprehensive test coverage before publishing
- **Linting** - Consistent code style and quality
- **Type definitions** - Provide TypeScript definitions
- **Peer dependencies** - Clearly define external dependencies

## Next Steps

After setting up NPM registry:
1. [Set up Configuration Service](/infrastructure/configuration-setup/)
2. [Implement CI/CD Integration](/infrastructure/project-setup/)
3. [Configure Widget Development Environment](/getting-started/local-development/) 