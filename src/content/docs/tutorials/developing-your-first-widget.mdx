---
title: "Developing Your First Widget"
description: Build widgets for an existing 1fe ecosystem using development tools and best practices
sidebar:
  order: 2
---

Let's build a widget for an existing 1fe ecosystem. You'll set up your development environment, use the playground for rapid iteration, configure your widget, and prepare it for deployment.

This tutorial is for frontend developers working with React in organizations that have a 1fe instance.

:::tip[Check with your organization first]
Your organization may have custom widget starter kits, internal development guidelines, or specific deployment processes. Use those instead of the standard tools shown here - the concepts remain the same.
:::

**Prerequisites:** Node.js 22+, yarn, a code editor, access to a 1fe instance, and basic React knowledge.

## What We're Building

**[üöÄ Getting Started](#üöÄ-getting-started)** - Set up your development environment and project structure  
**[üéØ Using the Playground](#üéØ-using-the-playground)** - Develop and test your widget interactively  
**[‚öôÔ∏è Widget Configuration](#‚öôÔ∏è-widget-configuration)** - Configure contracts and platform integration  
**[üî® Building and Testing](#üî®-building-and-testing)** - Prepare your widget for deployment

Let's start building.

---

## üöÄ Getting Started

Let's set up your widget development environment. We'll clone the [widget starter kit](https://github.com/docusign/1fe-widget-starter-kit) and get your development server running.

### Prerequisites Check

```bash
# Check Node.js version (22+ required)
node --version

# Check yarn version (4.x.x)
yarn --version
```

### Clone the Widget Starter Kit

A [widget](/learning/widgets/) is a self-contained React component that runs in the 1fe ecosystem.

```bash
# Clone the widget starter kit
git clone https://github.com/docusign/1fe-widget-starter-kit.git my-first-widget

# Navigate to the project
cd my-first-widget

# Install dependencies
yarn install
```

### Project Structure

```
my-first-widget/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/         # Reusable React components
‚îÇ   ‚îú‚îÄ‚îÄ contract.ts         # Widget contract definition
‚îÇ   ‚îú‚îÄ‚îÄ app1.tsx           # Main widget entry point
‚îÇ   ‚îî‚îÄ‚îÄ widget.ts          # Default widget export
‚îú‚îÄ‚îÄ .1fe.config.ts         # Widget build configuration
‚îî‚îÄ‚îÄ package.json           # Dependencies and scripts
```

**Key files:**

- `src/app1.tsx` - Your main widget component with access to [platform utilities](/reference/platform-utilities/overview/)
- `src/contract.ts` - Defines the [contract](/learning/widgets/#contracts) between your widget and the platform
- `.1fe.config.ts` - Controls how your widget is [built and configured](/reference/1fe-config-reference/)

### Start Development Server

:::note[1fe Instance Required]
This requires a running [1fe instance](/learning/what-is-1fe/). If you don't have one, follow the [Setup and Deploy a 1fe POC](/tutorials/setup-and-deploy-1fe-poc/) tutorial first.
:::

```bash
# Start the development server
yarn dev
```

This will:

<div class="prose">

- Compile your widget
- Start a local development server
- Open your widget in the [1fe Playground](/learning/playground/)
- Enable hot reloading for development

</div>

### Verify Your Setup

**1. Check the bundle URL:**
Visit [http://localhost:8080/js/1fe-bundle.js](http://localhost:8080/js/1fe-bundle.js) - you should see JavaScript code.

**2. Open in playground:**
If you don't have a 1fe instance, use the demo playground:
[http://demo.1fe.com/playground?widgetUrl=http%3A%2F%2F127.0.0.1%3A8080%2Fjs%2F1fe-bundle.js](http://demo.1fe.com/playground?widgetUrl=http%3A%2F%2F127.0.0.1%3A8080%2Fjs%2F1fe-bundle.js)

**3. Make a test change:**

Edit `src/app1.tsx` and add a success alert:

```typescript title="src/app1.tsx"
import { platformProps } from "@1fe/shell";
import React, { useEffect } from "react";
import { Alert } from "antd";
import { Router as Widget } from "./components/router";
import { withProvider } from "./withProvider";
import { WidgetProps } from "./contract";

const RootWrapper: React.FC<WidgetProps> = (props) => {
  useEffect(() => {
    platformProps.utils.appLoadTime.end();
  }, []);

  return (
    <div>
      <Alert
        message="üéâ Widget Ready!"
        type="success"
        style={{ margin: "8px" }}
        closable
      />
      <Widget {...props} />
    </div>
  );
};

export default withProvider(RootWrapper);
```

Save the file - your widget should recompile automatically and show the success banner.

Your development environment is ready! Your widget has access to platform utilities, shared dependencies, and can communicate with other widgets through the event system.

---

## üéØ Using the Playground

The 1fe Playground is your primary development environment for testing and iterating on widgets. It provides an isolated sandbox where you can develop without needing the full application setup.

### Playground Features

**Widget Loading**: Load your widget from any URL for testing
**Live Reloading**: See changes instantly as you develop
**Platform Simulation**: Test how your widget behaves in different platform contexts
**Debug Tools**: Access browser dev tools and widget-specific debugging

### Development Workflow

**1. Start your widget development server** (if not already running):

```bash
yarn dev
```

**2. The playground automatically opens** with your widget loaded at:

```
http://localhost:3001/playground?widgetUrl=http%3A%2F%2F127.0.0.1%3A8080%2Fjs%2F1fe-bundle.js
```

**3. Make changes to your widget code** and watch them appear instantly in the playground.

### Testing Widget Features

**Platform Integration**: Test how your widget receives props from the platform:

```typescript title="src/app1.tsx"
const RootWrapper: React.FC<WidgetProps> = (props) => {
  useEffect(() => {
    platformProps.utils.appLoadTime.end();
    // Log props to see what your widget receives
    console.log("Widget props:", props);
  }, []);

  return <Widget {...props} />;
};
```

**Platform Utilities**: Test built-in utilities like logging, storage, and context:

```typescript
// Test logging
platformProps.utils.logger.log("Hello from widget!");

// Test context management
const context = platformProps.utils.context.get();
platformProps.utils.context.set({ myData: "test" });

// Test event communication
platformProps.utils.eventBus.emit("widget-event", { data: "test" });
```

**State Management**: Develop and test your widget's internal state:

```typescript
const [widgetState, setWidgetState] = useState({
  loading: false,
  data: null,
  error: null,
});
```

### Playground Environment

The playground provides a clean testing environment where you can:

<div class="prose">

- Test different widget configurations
- Simulate various platform states
- Debug widget behavior in isolation
- Validate widget contracts and props

</div>

**Hot Reloading**: Any changes you make to your widget code will automatically rebuild and reload in the playground, making development rapid and efficient.

---

## ‚öôÔ∏è Widget Configuration

Widget configuration defines how your widget integrates with the 1fe platform. This includes contracts, dependencies, and build settings.

### Widget Contract

The contract defines what data your widget expects from the platform and what it provides back:

```typescript title="src/contract.ts"
import { PlatformPropsType } from "@1fe/shell";

// Define what props your widget expects from the host application
export type HostPropsContract = {
  userId?: string;
  theme?: "light" | "dark";
  locale?: string;
  // Add your specific props here
};

// Combined widget props (host + platform)
export type WidgetProps = {
  host: HostPropsContract;
  platform: PlatformPropsType;
};
```

**Host Props**: Data passed from the host application to your widget
**Platform Props**: Built-in platform utilities and context

### Build Configuration

The `.1fe.config.ts` file controls how your widget is built and deployed:

```typescript title=".1fe.config.ts"
import { OneFeConfiguration } from "@1fe/cli";
import { getBaseConfig } from "@1fe/sample-widget-base-config";

const configuration: OneFeConfiguration = {
  // Base configuration from your organization
  baseConfig: getBaseConfig,

  // Override specific settings
  webpack: {
    // Custom webpack configuration
    externals: {
      // Define external dependencies
      react: "React",
      "react-dom": "ReactDOM",
    },
  },

  // Widget metadata
  widget: {
    name: "my-first-widget",
    version: "1.0.0",
  },
};

export default configuration;
```

### Platform Integration

Your widget integrates with the platform through several mechanisms:

**Platform Utilities**: Access built-in services:

```typescript
import { platformProps } from "@1fe/shell";

// Logging
platformProps.utils.logger.log("Widget loaded");
platformProps.utils.logger.error("Something went wrong");

// App load time tracking
platformProps.utils.appLoadTime.end();

// Context management
const globalContext = platformProps.utils.context.get();
platformProps.utils.context.set({ widgetData: data });

// Event communication
platformProps.utils.eventBus.on("global-event", handleEvent);
platformProps.utils.eventBus.emit("widget-ready", { widgetId: "my-widget" });
```

**Shared Dependencies**: Leverage externalized libraries:

```typescript
// These are provided by the platform, not bundled with your widget
import React from "react";
import { Button, Alert } from "antd";
```

**Widget Provider**: Wrap your widget with the provider for platform integration:

```typescript title="src/withProvider.tsx"
import React from "react";
import { WidgetProps } from "./contract";

export const withProvider = (Component: React.ComponentType<WidgetProps>) => {
  return (props: WidgetProps) => {
    // Add any widget-level providers here
    return <Component {...props} />;
  };
};
```

### Configuration Best Practices

**Contract Design**: Keep contracts simple and focused
**Dependency Management**: Use externalized dependencies when possible
**Error Handling**: Implement robust error boundaries
**Performance**: Optimize bundle size and loading

---

## üî® Building and Testing

Prepare your widget for deployment by building, testing, and validating it works correctly in different environments.

### Building Your Widget

**Development Build** (for testing):

```bash
yarn build:widget
```

This creates a development build in the `dist/` folder with source maps and debugging information.

**Production Build** (for deployment):

```bash
yarn build:widget --mode production
```

This creates an optimized production build with minification and optimization.

### Testing Strategies

**Unit Testing**: Test individual components and functions:

```typescript title="src/__tests__/widget.test.tsx"
import { render, screen } from "@testing-library/react";
import Widget from "../app1";

describe("Widget", () => {
  it("renders without crashing", () => {
    const mockProps = {
      host: {},
      platform: {} as any,
    };

    render(<Widget {...mockProps} />);
    expect(screen.getByText("Widget Ready!")).toBeInTheDocument();
  });
});
```

**Integration Testing**: Test widget integration with the platform:

```bash
# Run tests
yarn test

# Run tests with coverage
yarn test --coverage
```

**Playground Testing**: Manual testing in the playground environment
**End-to-end Testing**: Test in a real 1fe instance

### Validation Checklist

Before deploying your widget, verify:

**‚úÖ Functionality**:

<div class="prose">

- Widget loads without errors
- All features work as expected
- Props are handled correctly
- Error states are handled gracefully

</div>

**‚úÖ Performance**:

<div class="prose">

- Bundle size is optimized
- Loading time is acceptable
- No memory leaks
- Efficient rendering

</div>

**‚úÖ Integration**:

<div class="prose">

- Platform utilities work correctly
- Event communication functions
- Shared dependencies load properly
- Contract is fulfilled

</div>

**‚úÖ Quality**:

<div class="prose">

- Code passes linting
- Tests pass
- No console errors
- Accessibility standards met

</div>

### Deployment Preparation

**Bundle Analysis**: Check your bundle size and dependencies:

```bash
yarn analyze
```

**Environment Configuration**: Ensure your widget works in different environments:

<div class="prose">

- Development (localhost)
- Staging (pre-production)
- Production (live)

</div>

**Documentation**: Document your widget's:

<div class="prose">

- Contract and expected props
- Dependencies and requirements
- Usage instructions
- Configuration options

</div>

### Deployment Process

**1. Build for production**:

```bash
yarn build:widget --mode production
```

**2. Upload to CDN**: Deploy your widget bundle to your organization's CDN

**3. Update configuration**: Add your widget to the platform's configuration

**4. Test in production**: Verify everything works in the live environment

**5. Monitor**: Watch for errors and performance issues

Your widget is now ready for production deployment!

---

## üéâ Congratulations! Tutorial Complete!

You've successfully built your first 1fe widget! You now understand the complete widget development workflow from setup to deployment.

### What You've Accomplished

<div class="prose">

- ‚úÖ **Set up a complete widget development environment**
- ‚úÖ **Used the playground for rapid development and testing**
- ‚úÖ **Configured widget contracts and platform integration**
- ‚úÖ **Built and tested your widget for deployment**
- ‚úÖ **Prepared your widget for production deployment**

</div>

### What's Next?

**For Immediate Development:**

<div class="prose">

- Explore more [platform utilities](/reference/platform-utilities/overview/)
- Learn about [widget patterns and best practices](/how-to-guides/)
- Understand [shared configurations](/learning/shared-configurations/)

</div>

**For Advanced Development:**

<div class="prose">

- **[Custom Utilities](/how-to-guides/custom-utilities/)** - Build platform-specific utilities
- **[Authentication](/how-to-guides/authentication/)** - Implement user authentication in widgets
- **[Override Shell Components](/how-to-guides/override-shell-components/)** - Customize the platform experience

</div>

**For Production:**

<div class="prose">

- **[Productionize Your 1fe Instance](/tutorials/productionize-your-1fe-instance/)** - Set up enterprise infrastructure
- **[CI/CD for Widgets](/how-to-guides/ci-cd/)** - Automate widget deployment
- **[Monitoring and Debugging](/how-to-guides/monitoring/)** - Track widget performance

</div>

**You're now part of the 1fe developer community! Start building amazing widgets that deliver value while maintaining independence.** üöÄ
